1. compile 

cd StoneNeeedle_kernel
sudo rm -rf /usr/src/linux-3.13-kernel
sudo mkdir /usr/src/linux-3.13-kernel
sudo make mrproper && make clean
sudo make O=/usr/src/linux-3.13-kernel menuconfig

cd /usr/src/linux-3.13-kernel
sudo make -j8 && sudo make modules_install -j8 && sudo make install -j8






2. StoneNeedle 실험
/* FIO 나 워크로드 mkdir/rename 포함해서 */
FIO 돌릴 때 NVMe 디렉토리는 절대경로로 /work 임, root 디렉토리에 있어서 sudo 로 fio 내려야됨


/* 프로파일링 시작 전 (FIO 시작하기 바로 전 실행) */
echo "start nvme0n1" > /proc/stoneneedle/controller

/* 프로파일링 결과 확인 (FIO 종료 후 실행) */
cat /proc/stoneneedle/nvme0n1
(cat /proc/stoneneedle/nvme0n1)>result.txt //프로파일링 결과 로그 파일 남기기 

/* 프로파일링 중지 (다시 실험할 때 이거 하고 start 해야함)*/
echo "stop nvme0n1" > /proc/stoneneedle/controller



3. sync
~/Exper/myExperSettings/shell 
에 sync 명령 있으니 워크로드 짤 때 사용하기



4. 되는 파라미터 

WRITE_EXT4_SB_PER_CHUNK:  
WRITE_EXT4_GDESC_PER_CHUNK:
WRITE_EXT4_B_BMAP_PER_CHUNK: // file creation/deletion
WRITE_EXT4_I_BMAP_PER_CHUNK: 
WRITE_EXT4_D_INODE_PER_CHUNK: // directory (mkdir/rename)


5. 왠만한거는 ~/Exper 에 있음 


~/Exper/StoneNeedle_kernel 에 git update 하기 


6. 리부팅 
grub

*Ubuntu (인터넷 되는 안정적인 버전)
Advanced ddddd
	- 4.14 (x)
	- 3.13 (실험)




